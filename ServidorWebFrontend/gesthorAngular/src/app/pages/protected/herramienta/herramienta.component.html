
<div *ngIf="loading" class="d-flex justify-content-center align-items-center" style="height: 80vh;">
  <app-spinning2 class="m-3"></app-spinning2>
   Estamos trabajando en ello..
</div>

<div *ngIf="!loading" class="container py-4 mt-5 text-white">

  <div *ngIf="error" class="alert alert-danger mt-3">
  {{ error }}
  <button (click)="error = null" class="btn-close float-end"></button>
  </div>

  <div *ngIf="tipo === 'ticketimagen' || tipo === 'ticketdigital'">
    <h4>Cargar {{ tipo === 'ticketimagen' ? 'Ticket Imagen' : 'Ticket Digital' }}</h4>

    <input type="file" class="form-control mb-2" (change)="onFileSelected($event)" accept="image/*,.pdf">

    <div *ngIf="file && file.type.includes('image')" class="mb-3">
      <h5>Vista previa:</h5>
      <img [src]="imagePreview" class="img-fluid rounded border border-secondary" style="width: 100%">
    </div>

    <div *ngIf="file && (file.type.includes('pdf') || file.type.includes('xml') )" class="alert alert-info mb-3">
      <i class="bi bi-file-earmark-pdf"></i> Archivo PDF seleccionado: {{ file.name }}
    </div>

    <button class="btn btn-success" (click)="subirArchivoYEditar()" [disabled]="!file">
      Subir y Editar
    </button>
  </div>
</div>
