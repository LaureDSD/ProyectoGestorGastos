2025-05-27 16:54:11,061 - INFO - Texto extraído correctamente de imagen OCR.
2025-05-27 16:54:21,380 - ERROR - Error al procesar OCR imagen
Traceback (most recent call last):
  File "C:\Users\laure\Desktop\ProyectoGestorGastos\ServidorServicioOCR\ServidorPython\server\ApiRestOCR+AI\services.py", line 81, in procesar_ocr_imagen_local
    parsed = self._procesar_texto_con_openai(texto)
  File "C:\Users\laure\Desktop\ProyectoGestorGastos\ServidorServicioOCR\ServidorPython\server\ApiRestOCR+AI\services.py", line 60, in _procesar_texto_con_openai
    return json.loads(response['choices'][0]['message']['content'])
           ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^
  File "C:\Python313\Lib\json\decoder.py", line 345, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\json\decoder.py", line 363, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
2025-05-27 16:54:21,405 - ERROR - Error en /ocr
Traceback (most recent call last):
  File "C:\Users\laure\Desktop\ProyectoGestorGastos\ServidorServicioOCR\ServidorPython\server\ApiRestOCR+AI\services.py", line 81, in procesar_ocr_imagen_local
    parsed = self._procesar_texto_con_openai(texto)
  File "C:\Users\laure\Desktop\ProyectoGestorGastos\ServidorServicioOCR\ServidorPython\server\ApiRestOCR+AI\services.py", line 60, in _procesar_texto_con_openai
    return json.loads(response['choices'][0]['message']['content'])
           ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^
  File "C:\Python313\Lib\json\decoder.py", line 345, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\json\decoder.py", line 363, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\laure\Desktop\ProyectoGestorGastos\ServidorServicioOCR\ServidorPython\server\ApiRestOCR+AI\apiController.py", line 52, in endpoint_ocr_image
    resultado = self.ocr_service.procesar_ocr_imagen_local(file)
  File "C:\Users\laure\Desktop\ProyectoGestorGastos\ServidorServicioOCR\ServidorPython\server\ApiRestOCR+AI\services.py", line 89, in procesar_ocr_imagen_local
    raise RuntimeError(f"Error al procesar OCR imagen: {e}") from e
RuntimeError: Error al procesar OCR imagen: Expecting value: line 1 column 1 (char 0)
2025-05-27 16:54:29,005 - INFO - Texto extraído correctamente de imagen OCR.
